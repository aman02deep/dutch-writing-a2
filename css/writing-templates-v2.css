/* Writing Templates V2 Styles */

/* Full Viewport Layout (Like Exam Sim) */
body {
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: hidden;
    background-color: #f0f2f5;
}

/* Force Breadcrumb to match Exam Sim exactly */
.breadcrumb-nav {
    background: #f9f9f9 !important;
    border-bottom: 1px solid #e0e0e0 !important;
    padding: 10px 20px !important;
    height: auto !important;
    min-height: 41px;
    /* Calculated height from 10px padding + line height */
    flex-shrink: 0 !important;
    display: block !important;
    box-sizing: border-box !important;
    font-size: 1rem;
    /* Ensure font size matches if root differs */
}

.main-container-v2 {
    display: flex;
    flex: 1;
    /* Take remaining height */
    overflow: hidden;
    gap: 0;
    /* No gap between sidebar and content */
}

/* Sidebar - Template List */
/* Sidebar - Template List */
.template-sidebar {
    width: 240px;
    background: white;
    border-right: 1px solid #ddd;
    display: flex;
    flex-direction: column;
    flex-shrink: 0;
    transition: width 0.3s ease, transform 0.3s ease;
}

/* Desktop: Collapsed means width 0 */
@media (min-width: 769px) {
    .template-sidebar.collapsed {
        width: 0;
        overflow: hidden;
        border: none;
    }
}

.sidebar-header {
    padding: 20px;
    border-bottom: 1px solid #eee;
    color: #0052cc;
    font-size: 1.1rem;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 8px;
    margin: 0;
    white-space: nowrap;
    /* Prevent text wrap during collapse */
    overflow: hidden;
}

/* Inline Sidebar Toggle */
.btn-toggle-sidebar {
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 0 15px;
    /* Adjust padding for flex */
    background: transparent;
    color: #555;
    border: none;
    border-right: 1px solid #eee;
    border-radius: 0;
    cursor: pointer;
    font-size: 1.2rem;
    line-height: 1;
    transition: all 0.2s;
    margin-right: 5px;
}

.btn-toggle-sidebar:hover {
    background: #f5f5f5;
    color: #333;
}

.template-list {
    overflow-y: auto;
    flex-grow: 1;
    padding: 10px;
    background: white;
}

/* Matching Exam-Sim Sidebar Items */
.template-item {
    padding: 12px 15px;
    margin-bottom: 5px;
    border-radius: 6px;
    cursor: pointer;
    font-size: 0.85rem;
    border: 1px solid #eee;
    background: white;
    transition: all 0.2s;
    color: #333;
}

.template-item:hover {
    background: #f8f9fa;
    border-color: #0052cc;
}

.template-item.active {
    background: #0052cc;
    color: white;
    border-color: #0052cc;
    font-weight: bold;
}

/* Main Content */
.content-area-v2 {
    flex-grow: 1;
    background: white;
    /* Removed border-radius/shadow for full layout look */
    display: flex;
    flex-direction: column;
    overflow: hidden;
    padding: 20px;
}

/* Tabs */
.tabs-header {
    display: flex;
    background: white;
    border-bottom: 2px solid #eee;
    padding: 0;
    margin-bottom: 20px;
}

.tab-btn {
    padding: 10px 20px;
    background: transparent;
    border: none;
    cursor: pointer;
    font-weight: 600;
    color: #777;
    border-bottom: 3px solid transparent;
    transition: all 0.2s;
    margin-bottom: -2px;
}

.tab-btn:hover {
    color: #0052cc;
}

.tab-btn.active {
    color: #0052cc;
    border-bottom-color: #0052cc;
}

.tab-content {
    overflow-y: auto;
    flex-grow: 1;
    display: none;
}

.tab-content.active {
    display: block;
}

/* Template View Styles */
.template-structure {
    background: #fff3e0;
    padding: 20px;
    border-radius: 8px;
    line-height: 1.8;
    border-left: 4px solid #ff9800;
    font-family: 'Courier New', monospace;
    white-space: pre-wrap;
}

.example-box {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
}

.dutch-text {
    background: #e8f5e9;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #4caf50;
}

.english-text {
    background: #f5f5f5;
    padding: 15px;
    border-radius: 8px;
    border-left: 4px solid #9e9e9e;
    color: #555;
    font-style: italic;
}

/* Practice Mode Styles (Refactored for 2-Column Layout) */
.practice-container {
    height: 100%;
    /* Container itself handles the grid */
}

.two-column-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 25px;
    height: 100%;
    overflow: hidden;
    /* Prevent full page scroll, keep scroll internal */
}

/* Left Column */
.practice-left-col {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
}

.practice-header {
    flex-shrink: 0;
}

.practice-instruction {
    background: #e3f2fd;
    padding: 8px 12px;
    border-radius: 6px;
    color: #0d47a1;
    display: flex;
    align-items: center;
    gap: 8px;
    flex-grow: 1;
    font-size: 0.85rem;
    margin: 0;
}

.practice-input {
    width: 100%;
    flex-grow: 1;
    padding: 15px;
    border: 2px solid #eee;
    border-radius: 8px;
    resize: none;
    font-family: sans-serif;
    font-size: 1rem;
    line-height: 1.6;
    transition: border-color 0.2s;
    margin-bottom: 0;
    /* Align with bottom */
}

.practice-input:focus {
    border-color: #0052cc;
    outline: none;
}

/* Right Column - Feedback */
.practice-right-col {
    display: flex;
    flex-direction: column;
    height: 100%;
    background: #f8f9fa;
    border-radius: 8px;
    border: 1px solid #eee;
    overflow: hidden;
}

.feedback-header {
    padding: 15px;
    background: white;
    border-bottom: 1px solid #eee;
    font-weight: bold;
    color: #333;
    display: flex;
    align-items: center;
    gap: 8px;
}

.feedback-area {
    flex-grow: 1;
    overflow-y: auto;
    padding: 20px;
}

/* Feedback Placeholder State */
.feedback-placeholder {
    text-align: center;
    color: #666;
    padding: 40px 20px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    height: 100%;
}

.feedback-placeholder .sub-text {
    margin-bottom: 20px;
    font-size: 0.9rem;
}

.feedback-placeholder ul {
    text-align: left;
    background: white;
    padding: 15px 30px;
    border-radius: 8px;
    border: 1px solid #eee;
    color: #555;
    font-size: 0.9rem;
}

.feedback-placeholder li {
    margin-bottom: 5px;
}

/* Floating Copy Button */
.copy-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: white;
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 5px 10px;
    cursor: pointer;
    font-size: 0.8rem;
    display: flex;
    align-items: center;
    gap: 5px;
}

.copy-btn:hover {
    background: #f5f5f5;
}

/* Mobile Responsive */
/* Mobile Responsive */
@media (max-width: 768px) {
    .main-container-v2 {
        flex-direction: column;
        height: auto;
        position: relative;
        /* Context for absolute positioning if needed */
    }

    /* Mobile Sidebar: Off-canvas drawer (Exam-Sim Style) */
    .template-sidebar {
        position: fixed;
        left: 0;
        top: 0;
        width: 280px;
        height: 100vh;
        z-index: 2000;
        box-shadow: 2px 0 10px rgba(0, 0, 0, 0.3);
        transform: translateX(-100%);
        /* Hidden by default */
        transition: transform 0.3s ease;
    }

    /* Open state for mobile */
    .template-sidebar:not(.collapsed) {
        transform: translateX(0);
    }

    /* Ensure collapsed class actually hides it (default state logic inverted vs desktop) 
       Logic: 
       - Desktop: Default = Visible. Collapsed = Hidden (width 0).
       - Mobile: Default = Hidden (translateX -100%). Open = Visible.
       
       Fix: We need to match toggleSidebar JS logic.
       JS Logic: 
       - if .collapsed -> remove .collapsed (OPEN)
       - else -> add .collapsed (CLOSE)
       
       So:
       - Default HTML has NO .collapsed -> implies OPEN on Desktop.
       - Mobile default should be HIDDEN.
       
       Let's align with JS:
       - Desktop: No class = Visible. .collapsed = Hidden.
       - Mobile: No class = Hidden? No, that conflicts.
       
       Better Logic (Exam Sim approach):
       - Mobile Sidebar has specific ID/Class behavior.
       Let's stick to the simplest override:
    */

    .template-sidebar {
        /* Default state on mobile: Hidden */
        transform: translateX(-100%);
    }

    /* When OPEN (Class removed? No, let's use a specific class for mobile open if needed, 
       OR rely on the fact that toggleSidebar toggles .collapsed.
       
       Let's change JS to toggle 'mobile-open' for clarity or reuse .collapsed?
       
       Exam-sim logic:
       Sidebar has 'collapsed' class added to OPEN it on mobile if it started closed?
       Actually, exam-sim.js:
       if (sidebar.classList.contains('collapsed')) { remove 'collapsed' (OPEN) }
       
       Wait, exam-sim logic seems inverted or specific.
       Let's write clean CSS for OUR JS logic:
       JS: toggle 'collapsed'.
       
       Desktop: 
       - Start: Clean. -> Visible.
       - Click: Add 'collapsed' -> Width 0 (Hidden).
       
       Mobile:
       - Start: Clean. -> MUST BE HIDDEN.
       - Click: Add 'collapsed'?? No, text says "Tasks".
       
       Let's force Mobile default to be Hidden, and 'collapsed' to be VISIBLE? 
       That's confusing.
       
       Let's use a separate class in JS or just handle it here.
       If we want to start Hidden on Mobile, we need a class or media query.
    */

    /* REVISED MOBILE LOGIC matching standard off-canvas */
    .template-sidebar {
        transform: translateX(-100%);
        /* Always start hidden */
    }

    .template-sidebar.collapsed {
        /* Re-using .collapsed to mean "Visible" on mobile? 
           NO, that's semantically wrong. collapsed means closed.
           
           Let's assume the user starts with the sidebar OPEN on desktop.
           On Mobile, it should start CLOSED.
           
           If I add .collapsed by default in HTML? No.
           
           Let's use a helper class `.mobile-visible`? 
           Or just accept that on Mobile, we toggle `.show-sidebar`.
           
           I will update JS to toggle `.show-sidebar` on mobile instead of `.collapsed`.
           NO, let's keep it simple.
           
           Desktop: .collapsed = Hidden.
           Mobile: .collapsed = Visible? No.
           
           Let's use:
           .template-sidebar.mobile-open { transform: translateX(0); }
           
           And update JS to toggle THAT on mobile.
        */
        transform: translateX(-100%);
    }

    .template-sidebar.mobile-show {
        transform: translateX(0);
    }

    .two-column-grid {
        grid-template-columns: 1fr;
        height: auto;
        overflow: visible;
    }

    .practice-left-col {
        height: 400px;
        /* Fixed height for input on mobile */
    }

    .practice-right-col {
        height: auto;
        min-height: 200px;
    }

    .example-box {
        grid-template-columns: 1fr;
    }
}